(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9005:function(e,a,t){Promise.resolve().then(t.bind(t,4826))},4826:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});var s=t(3827),n=t(4090);async function l(e){let a=await fetch("".concat("https://star-meet.com/star-api","/v1/calculate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json().catch(()=>({}))).detail||"API Error: ".concat(a.status));return a.json()}var r=t(1618),i=t(4210);t(2413);let c={Exalted:"Экзальтация",Debilitated:"Падение",Own:"Свой знак",Friend:"Дружба",Neutral:"Нейтральный",Enemy:"Вражда"},d=[{code:"D1",name:"Раши (основная)"},{code:"D2",name:"Хора"},{code:"D3",name:"Дреккана"},{code:"D4",name:"Чатуртхамша"},{code:"D7",name:"Саптамша"},{code:"D9",name:"Навамша"},{code:"D10",name:"Дашамша"},{code:"D12",name:"Двадашамша"},{code:"D16",name:"Шодашамша"},{code:"D20",name:"Вимшамша"},{code:"D24",name:"Чатурвимшамша"},{code:"D27",name:"Саптавимшамша"},{code:"D30",name:"Тримшамша"},{code:"D40",name:"Кхаведамша"},{code:"D45",name:"Акшаведамша"},{code:"D60",name:"Шаштиамша"}],o={Aries:"Овен",Taurus:"Телец",Gemini:"Близнецы",Cancer:"Рак",Leo:"Лев",Virgo:"Дева",Libra:"Весы",Scorpio:"Скорпион",Sagittarius:"Стрелец",Capricorn:"Козерог",Aquarius:"Водолей",Pisces:"Рыбы"},m={Sun:"Солнце",Moon:"Луна",Mars:"Марс",Mercury:"Меркурий",Jupiter:"Юпитер",Venus:"Венера",Saturn:"Сатурн",Rahu:"Раху",Ketu:"Кету"},u={Aries:"Mars",Taurus:"Venus",Gemini:"Mercury",Cancer:"Moon",Leo:"Sun",Virgo:"Mercury",Libra:"Venus",Scorpio:"Mars",Sagittarius:"Jupiter",Capricorn:"Saturn",Aquarius:"Saturn",Pisces:"Jupiter"};function h(e){let{columns:a,onChange:t}=e,[l,r]=(0,n.useState)(!1),i=(0,n.useRef)(null);(0,n.useEffect)(()=>{function e(e){i.current&&!i.current.contains(e.target)&&r(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let c=e=>{t(a.map(a=>a.id!==e||a.fixed?a:{...a,enabled:!a.enabled}))},d=a.filter(e=>e.enabled).length;return(0,s.jsxs)("div",{className:"relative",ref:i,children:[(0,s.jsxs)("button",{onClick:()=>r(!l),className:"flex items-center gap-1.5 text-sm text-gray-600 hover:text-gray-900 px-2 py-1.5 rounded border border-gray-200 hover:border-gray-300 bg-white transition-colors",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),(0,s.jsxs)("span",{children:["Колонки (",d,")"]})]}),l&&(0,s.jsxs)("div",{className:"absolute right-0 mt-1 w-56 bg-white border border-gray-200 rounded-lg shadow-lg z-50 py-2",children:[(0,s.jsx)("div",{className:"px-3 py-1.5 border-b border-gray-100",children:(0,s.jsx)("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Отображаемые колонки"})}),(0,s.jsx)("div",{className:"max-h-64 overflow-y-auto py-1",children:a.map(e=>(0,s.jsxs)("label",{className:"flex items-center px-3 py-1.5 cursor-pointer hover:bg-gray-50\n                           ".concat(e.fixed?"opacity-60 cursor-not-allowed":""),children:[(0,s.jsx)("input",{type:"checkbox",checked:e.enabled,onChange:()=>c(e.id),disabled:e.fixed,className:"w-4 h-4 text-gray-900 border-gray-300 rounded focus:ring-gray-500 focus:ring-offset-0"}),(0,s.jsxs)("span",{className:"ml-2.5 text-sm text-gray-700",children:[e.label,e.fixed&&(0,s.jsx)("span",{className:"text-gray-400 ml-1",children:"(обяз.)"})]})]},e.id))})]})]})}let x=[{id:"name",label:"Планета",enabled:!0,fixed:!0},{id:"sign",label:"Знак и градус",enabled:!0},{id:"nakshatra",label:"Накшатра",enabled:!0},{id:"house",label:"Дом",enabled:!0},{id:"sign_lord",label:"Управитель знака",enabled:!0},{id:"nakshatra_lord",label:"Управитель накшатры",enabled:!1},{id:"houses_owned",label:"Управляет домами",enabled:!1},{id:"dignity",label:"Достоинство",enabled:!1},{id:"conjunctions",label:"Соединения",enabled:!1},{id:"aspects_giving",label:"Аспектирует дома",enabled:!1},{id:"aspects_receiving",label:"Аспекты от планет",enabled:!1}],p=[{id:"house",label:"Дом",enabled:!0,fixed:!0},{id:"sign",label:"Знак",enabled:!0},{id:"occupants",label:"Планеты",enabled:!0},{id:"lord",label:"Управитель",enabled:!1},{id:"aspects_received",label:"Аспекты",enabled:!1}];(0,r.I2)("ru",i.ru);let g={name:"",date:"1982-05-30",time:"09:45",city:"Санкт-Петербург",lat:59.93,lon:30.33,timezone:3,ayanamsa:"raman"},j="https://star-meet.com/star-api";function v(){let[e,a]=(0,n.useState)(g),[t,i]=(0,n.useState)("D1"),[v,f]=(0,n.useState)(null),[y,b]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),[_,k]=(0,n.useState)(null),[C,S]=(0,n.useState)(!1),[D,L]=(0,n.useState)(x),[E,M]=(0,n.useState)(p),[F,z]=(0,n.useState)([]),[T,V]=(0,n.useState)(null),[A,O]=(0,n.useState)(!1),[P,q]=(0,n.useState)([]),[R,B]=(0,n.useState)(!1),[J,G]=(0,n.useState)(!1),I=(0,n.useRef)(null);(0,n.useEffect)(()=>{let e=e=>{I.current&&!I.current.contains(e.target)&&G(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let W=async e=>{if(e.length<2){q([]);return}B(!0);try{let a=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(e),"&limit=5&accept-language=ru"),{headers:{"User-Agent":"StarMeet/1.0"}});if(a.ok){let e=await a.json();q(e),G(e.length>0)}}catch(e){console.error("City search failed:",e)}finally{B(!1)}};(0,n.useEffect)(()=>{let a=setTimeout(()=>{e.city&&e.city.length>=2&&W(e.city)},500);return()=>clearTimeout(a)},[e.city]);let H=t=>{let s=t.display_name.split(",")[0].trim();a({...e,city:s,lat:parseFloat(t.lat),lon:parseFloat(t.lon)}),G(!1),q([])};(0,n.useEffect)(()=>{K()},[]);let K=async()=>{O(!0);try{let e=await fetch("".concat(j,"/v1/profiles"));if(e.ok){let a=await e.json();z(a.profiles||[])}}catch(e){console.error("Failed to load profiles:",e)}finally{O(!1)}},Y=async e=>{try{let t=await fetch("".concat(j,"/v1/profiles/").concat(e));if(t.ok){let s=await t.json();s.input&&a({name:s.input.name||"",date:s.input.date||g.date,time:s.input.time||g.time,city:s.input.city||g.city,lat:s.input.lat||g.lat,lon:s.input.lon||g.lon,timezone:s.input.timezone||g.timezone,ayanamsa:s.input.ayanamsa||g.ayanamsa}),s.chart&&(f(s.chart),S(!0)),V(e)}}catch(e){console.error("Failed to load profile:",e)}},U=async e=>{if(confirm("Удалить этот профиль?"))try{(await fetch("".concat(j,"/v1/profiles/").concat(e),{method:"DELETE"})).ok&&(z(a=>a.filter(a=>a.id!==e)),T===e&&V(null))}catch(e){console.error("Failed to delete profile:",e)}};(0,n.useEffect)(()=>{v&&Z()},[t]);let Z=async()=>{b(!0),w(null);try{let a=await l({date:e.date,time:e.time,lat:e.lat,lon:e.lon,timezone:e.timezone,ayanamsa:e.ayanamsa,varga:t});f(a),S(!0)}catch(e){w(e instanceof Error?e.message:"Ошибка расчета")}finally{b(!1)}},Q=async()=>{if(v){if(!e.name.trim()){alert("Введите имя профиля");return}k("saving");try{let a=await fetch("".concat(j,"/v1/save"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input_data:e,chart_data:v})});if(a.ok){let e=await a.json();k("saved"),V(e.profile_id),await K(),setTimeout(()=>k(null),3e3)}else k("error")}catch(e){k("error")}}},X=e=>{var a;return"D1"===t?e.sign:(null==v?void 0:null===(a=v.varga_data)||void 0===a?void 0:a.planets)?v.varga_data.planets[e.name]||e.sign:e.varga_signs[t]||e.sign},$=e=>{if(!v)return[];if("D1"===t)return v.planets.filter(a=>a.house===e).map(e=>m[e.name]||e.name);if(v.varga_data){let a=v.varga_data.ascendant,t=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],s=t.indexOf(a);if(-1===s)return[];let n=t[(s+e-1)%12];return Object.entries(v.varga_data.planets).filter(e=>{let[,a]=e;return a===n}).map(e=>{let[a]=e;return m[a]||a})}return[]},ee=e=>{if(!v)return"";if("D1"===t){let a=v.houses.find(a=>a.house===e);return(null==a?void 0:a.sign)||""}if(v.varga_data){let a=v.varga_data.ascendant,t=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],s=t.indexOf(a);return -1===s?"":t[(s+e-1)%12]}return""},ea=(e,a)=>{var t,s;return null!==(s=null===(t=e.find(e=>e.id===a))||void 0===t?void 0:t.enabled)&&void 0!==s&&s};return(0,s.jsx)("div",{className:"min-h-screen py-8 px-4",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("header",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"StarMeet"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Ведический астрологический калькулятор"})]}),(0,s.jsx)("div",{className:"card mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"Профиль:"}),(0,s.jsxs)("select",{className:"input-field flex-1",value:T||"",onChange:e=>{let t=e.target.value;""===t?(a({...g,name:""}),f(null),V(null),S(!1)):Y(t)},children:[(0,s.jsx)("option",{value:"",children:"+ Новый профиль"}),F.filter(e=>e.name&&""!==e.name.trim()).map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),T&&(0,s.jsxs)("button",{onClick:()=>U(T),className:"text-sm text-red-500 hover:text-red-700 flex items-center gap-1",title:"Удалить профиль",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Удалить"]})]})}),C&&v&&(0,s.jsx)("div",{className:"card mb-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsxs)("div",{className:"text-sm",children:[e.name&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:e.name}),(0,s.jsx)("span",{className:"text-gray-400 mx-2",children:"|"})]}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:e.city}),(0,s.jsx)("span",{className:"text-gray-400 mx-2",children:"|"}),(0,s.jsxs)("span",{className:"text-gray-600",children:[(e=>{let[a,t,s]=e.split("-");return"".concat(s,".").concat(t,".").concat(a)})(e.date)," ",e.time]}),(0,s.jsx)("span",{className:"text-gray-400 mx-2",children:"|"}),(0,s.jsxs)("span",{className:"text-gray-500",children:[e.lat.toFixed(2),"\xb0, ",e.lon.toFixed(2),"\xb0"]})]})}),(0,s.jsxs)("button",{onClick:()=>S(!1),className:"text-sm text-gray-600 hover:text-gray-900 flex items-center gap-1",children:[(0,s.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Изменить"]})]})}),!C&&(0,s.jsxs)("div",{className:"card mb-6",children:[(0,s.jsx)("h2",{className:"text-base font-medium text-gray-900 mb-4",children:"Данные рождения"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"input-label",children:"Имя профиля"}),(0,s.jsx)("input",{type:"text",className:"input-field",value:e.name,placeholder:"Например: Олег",onChange:t=>a({...e,name:t.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"input-label",children:"Дата рождения"}),(0,s.jsx)(r.ZP,{selected:e.date?new Date(e.date):null,onChange:t=>{if(t){let s=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");a({...e,date:"".concat(s,"-").concat(n,"-").concat(l)})}},dateFormat:"dd.MM.yyyy",locale:"ru",showYearDropdown:!0,showMonthDropdown:!0,dropdownMode:"select",yearDropdownItemNumber:100,scrollableYearDropdown:!0,maxDate:new Date,minDate:new Date(1900,0,1),placeholderText:"Выберите дату",className:"input-field w-full",wrapperClassName:"w-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"input-label",children:"Время"}),(0,s.jsx)("input",{type:"time",className:"input-field",value:e.time,onChange:t=>a({...e,time:t.target.value})})]}),(0,s.jsxs)("div",{className:"relative",ref:I,children:[(0,s.jsx)("label",{className:"input-label",children:"Город"}),(0,s.jsx)("input",{type:"text",className:"input-field",value:e.city,placeholder:"Начните вводить город...",onChange:t=>a({...e,city:t.target.value}),onFocus:()=>P.length>0&&G(!0)}),R&&(0,s.jsx)("div",{className:"absolute right-3 top-8 text-gray-400",children:(0,s.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),J&&P.length>0&&(0,s.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:P.map((e,a)=>(0,s.jsx)("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm hover:bg-gray-50 border-b border-gray-100 last:border-0",onClick:()=>H(e),children:e.display_name},a))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"input-label",children:"Часовой пояс"}),(0,s.jsx)("input",{type:"number",className:"input-field",value:e.timezone,onChange:t=>a({...e,timezone:parseFloat(t.target.value)}),step:"0.5"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"input-label",children:"Широта"}),(0,s.jsx)("input",{type:"number",className:"input-field",value:e.lat,onChange:t=>a({...e,lat:parseFloat(t.target.value)}),step:"0.01"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"input-label",children:"Долгота"}),(0,s.jsx)("input",{type:"number",className:"input-field",value:e.lon,onChange:t=>a({...e,lon:parseFloat(t.target.value)}),step:"0.01"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"input-label",children:"Аянамса"}),(0,s.jsxs)("select",{className:"input-field",value:e.ayanamsa,onChange:t=>a({...e,ayanamsa:t.target.value}),children:[(0,s.jsx)("option",{value:"raman",children:"Raman (B.V. Raman)"}),(0,s.jsx)("option",{value:"lahiri",children:"Lahiri (Chitrapaksha)"}),(0,s.jsx)("option",{value:"krishnamurti",children:"Krishnamurti (KP)"})]})]}),(0,s.jsx)("div",{className:"flex items-end gap-2",children:(0,s.jsx)("button",{onClick:Z,disabled:y,className:"btn-primary flex-1 disabled:opacity-50",children:y?"Расчет...":"Рассчитать"})})]}),N&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-md text-red-700 text-sm",children:N})]}),v&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"card mb-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{className:"text-sm text-gray-700",children:"Варга:"}),(0,s.jsx)("select",{className:"input-field w-auto",value:t,onChange:e=>i(e.target.value),children:d.map(e=>(0,s.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},e.code))})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Асцендент:"," ",(0,s.jsx)("span",{className:"font-medium text-gray-900",children:(()=>{var e;if(!v)return"";if("D1"===t){let e=o[v.ascendant.sign]||v.ascendant.sign;return"".concat(e," ").concat(v.ascendant.degrees.toFixed(2),"\xb0")}return(null===(e=v.varga_data)||void 0===e?void 0:e.ascendant)?o[v.varga_data.ascendant]||v.varga_data.ascendant:""})()})]}),(0,s.jsx)("div",{className:"ml-auto flex gap-2",children:(0,s.jsx)("button",{onClick:Q,disabled:"saving"===_,className:"btn-secondary",children:"saving"===_?"Сохранение...":"saved"===_?"Сохранено!":"error"===_?"Ошибка":"Сохранить профиль"})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-base font-medium text-gray-900",children:["Планеты (",t,")"]}),(0,s.jsx)(h,{columns:D,onChange:L})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[ea(D,"name")&&(0,s.jsx)("th",{children:"Планета"}),ea(D,"sign")&&(0,s.jsx)("th",{children:"Знак"}),ea(D,"nakshatra")&&(0,s.jsx)("th",{children:"Накшатра"}),ea(D,"house")&&(0,s.jsx)("th",{children:"Дом"}),ea(D,"sign_lord")&&(0,s.jsx)("th",{children:"Упр. знака"}),ea(D,"nakshatra_lord")&&(0,s.jsx)("th",{children:"Упр. накш."}),ea(D,"houses_owned")&&(0,s.jsx)("th",{children:"Управляет"}),ea(D,"dignity")&&(0,s.jsx)("th",{children:"Достоинство"}),ea(D,"conjunctions")&&(0,s.jsx)("th",{children:"Соединения"}),ea(D,"aspects_giving")&&(0,s.jsx)("th",{children:"Аспекты"}),ea(D,"aspects_receiving")&&(0,s.jsx)("th",{children:"Аспект от"})]})}),(0,s.jsx)("tbody",{children:v.planets.map(e=>{var a,n,l,r;let i=X(e);return(0,s.jsxs)("tr",{children:[ea(D,"name")&&(0,s.jsx)("td",{className:"font-medium text-gray-900",children:m[e.name]||e.name}),ea(D,"sign")&&(0,s.jsxs)("td",{children:[o[i]||i,"D1"===t&&(0,s.jsxs)("span",{className:"text-gray-400 ml-1 text-xs",children:[e.degrees.toFixed(1),"\xb0"]})]}),ea(D,"nakshatra")&&(0,s.jsxs)("td",{className:"text-gray-600",children:[e.nakshatra,(0,s.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",e.nakshatra_pada,")"]})]}),ea(D,"house")&&(0,s.jsx)("td",{children:e.house}),ea(D,"sign_lord")&&(0,s.jsx)("td",{className:"text-gray-500",children:m[u[i]]||u[i]||"-"}),ea(D,"nakshatra_lord")&&(0,s.jsx)("td",{className:"text-gray-500",children:m[e.nakshatra_lord]||e.nakshatra_lord||"-"}),ea(D,"houses_owned")&&(0,s.jsx)("td",{className:"text-gray-500",children:(null===(a=e.houses_owned)||void 0===a?void 0:a.length)>0?e.houses_owned.join(", "):"-"}),ea(D,"dignity")&&(0,s.jsx)("td",{className:"text-sm ".concat("Exalted"===e.dignity?"text-green-600":"Debilitated"===e.dignity?"text-red-600":"Own"===e.dignity?"text-blue-600":"text-gray-500"),children:c[e.dignity]||e.dignity||"-"}),ea(D,"conjunctions")&&(0,s.jsx)("td",{className:"text-gray-500 text-sm",children:(null===(n=e.conjunctions)||void 0===n?void 0:n.length)>0?e.conjunctions.map(e=>m[e]||e).join(", "):"-"}),ea(D,"aspects_giving")&&(0,s.jsx)("td",{className:"text-gray-500 text-sm",children:(null===(l=e.aspects_giving)||void 0===l?void 0:l.length)>0?e.aspects_giving.join(", "):"-"}),ea(D,"aspects_receiving")&&(0,s.jsx)("td",{className:"text-gray-500 text-sm",children:(null===(r=e.aspects_receiving)||void 0===r?void 0:r.length)>0?e.aspects_receiving.map(e=>m[e]||e).join(", "):"-"})]},e.name)})})]})})]}),(0,s.jsxs)("div",{className:"card",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("h3",{className:"text-base font-medium text-gray-900",children:["Дома (",t,")"]}),(0,s.jsx)(h,{columns:E,onChange:M})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"data-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[ea(E,"house")&&(0,s.jsx)("th",{children:"Дом"}),ea(E,"sign")&&(0,s.jsx)("th",{children:"Знак"}),ea(E,"occupants")&&(0,s.jsx)("th",{children:"Планеты"}),ea(E,"lord")&&(0,s.jsx)("th",{children:"Управитель"}),ea(E,"aspects_received")&&(0,s.jsx)("th",{children:"Аспекты"})]})}),(0,s.jsx)("tbody",{children:[1,2,3,4,5,6,7,8,9,10,11,12].map(e=>{var a,t;let n=ee(e),l=$(e),r=v.houses.find(a=>a.house===e);return(0,s.jsxs)("tr",{children:[ea(E,"house")&&(0,s.jsx)("td",{className:"font-medium text-gray-900",children:e}),ea(E,"sign")&&(0,s.jsx)("td",{children:o[n]||n}),ea(E,"occupants")&&(0,s.jsx)("td",{className:"text-gray-600",children:l.length>0?l.join(", "):"-"}),ea(E,"lord")&&(0,s.jsx)("td",{className:"text-gray-500",children:m[u[n]]||u[n]||"-"}),ea(E,"aspects_received")&&(0,s.jsx)("td",{className:"text-gray-500 text-sm",children:(null!==(t=null==r?void 0:null===(a=r.aspects_received)||void 0===a?void 0:a.length)&&void 0!==t?t:0)>0?r.aspects_received.map(e=>m[e]||e).join(", "):"-"})]},e)})})]})})]})]}),(0,s.jsxs)("div",{className:"mt-6 text-xs text-gray-400",children:["Аянамса: ",v.ayanamsa," | Варга: ",v.requested_varga||"D1"]})]})]})})}}},function(e){e.O(0,[501,333,597,971,69,744],function(){return e(e.s=9005)}),_N_E=e.O()}]);